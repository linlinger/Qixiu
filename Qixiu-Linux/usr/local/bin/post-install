#!/bin/bash
#Author linlinger
#! Post-installation jobs
servicesManagement(){
rm /etc/systemd/system/multi-user.target.wants/post-setup.service
rm /etc/systemd/system/multi-user.target.wants/localegen.service
}
javaversion(){
archlinux-java set java-15-openjdk
}
appimagesetup(){
#Setting up appericate permission for directories stores appiamge
chown root:wheel /home/.Applications
chmod 775 /home/.Applications
chown root:wheel /opt/Appimage
chmod 775 /opt/Appimage
}
files(){
cp -f /usr/share/cdesk/os-release /usr/lib/
cp  /usr/share/cdesk/calamares.svg  /usr/share/icons/hicolor/scalable/apps/calamares.svg
cp -f /usr/share/cdesk/.zshrc /etc/skel
cp -f /usr/share/cdesk/.bashrc /etc/skel
cp -f /usr/share/cdesk/.bashrc ~/
cp -f /usr/share/cdesk/.zshrc ~/
source ~/.zshrc
source ~/.bashrc
}
installPackages(){
pacman -U /opt/strepo/libxfce4ui-4.16.1-1-x86_64.pkg.tar.zst --noconfirm
pacman -U /opt/strepo/user-admin-1.5.3-1-x86_64.pkg.tar.zst --noconfirm
#pacman -U /opt/strepo/xfce4-clipman-plugin-1.6.1-1-x86_64.pkg.tar.zst --noconfirm
pacman -U /opt/strepo/xfce4-terminal-0.8.10-1-x86_64.pkg.tar.zst --noconfirm
pacman -U /opt/strepo/lsb-release-1.4-19-any.pkg.tar.zst --noconfirm
pacman -U /opt/strepo/pamac-aur-10.1.1-1-x86_64.pkg.tar.zst --noconfirm
pacman -R xfce4-appfinder --noconfirm
pacman -U /opt/strepo/xfce4-appfinder-4.16.1-1-x86_64.pkg.tar.zst --noconfirm
pacman -U /opt/strepo/plank-0.11.89-4-x86_64.pkg.tar.zst  --noconfirm
pacman -U /opt/strepo/lightdm-webkit2-greeter-2.2.5-4-x86_64.pkg.tar.zst --noconfirm
pacman -U /opt/strepo/lightdm-webkit2-theme-glorious-2.0.8-1-any.pkg.tar.zst --noconfirm
}

plymouth(){
cp /usr/share/cdesk/mkinitcpio.conf /etc
mkinitcpio -p linux
}


servicesManagement
javaversion
appimagesetup
files
installPackages
plymouth
vmdetection
